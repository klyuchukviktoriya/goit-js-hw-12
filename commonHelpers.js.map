{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nexport function showError(message) {\n    iziToast.error({\n        icon: \"\",\n        backgroundColor: \"#ef4040\",\n        position: \"topRight\",\n        message: \"Oh, shit! Type something\",\n        messageColor: \"white\",\n    });\n}\nexport function fetchImages(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n\n    const params = new URLSearchParams({\n        key: \"44041025-2e091a4b621ea033778029d2c\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    })\n\n    const url = `${BASE_URL}?${params}`;\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    icon: \"\",\n                    backgroundColor: \"#ef4040\",\n                    position: \"topRight\",\n                    message: \"&#11198; Sorry, there are no images matching your search query. Please, try again!\",\n                    messageColor: \"white\",\n                })\n            } else {\n                return data.hits;\n            }\n        })\n        .catch(error => console.log(error));\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = images.map(image => createImageCard(image)).join(\"\");\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox(\".gallery a\", { captionDelay: 250, captionsData: \"alt\" });\n    }\n}\n\nfunction createImageCard(image) {\n    return `\n    <div class=\"photo-card\">\n      <a class=\"link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        <div class=\"info\">\n        <li><h3 class=\"info-title\">Likes</h3><p class=\"info-text\">${image.likes}</p></li>\n        <li><h3 class=\"info-title\">Views</h3><p class=\"info-text\">${image.views}</p></li>\n        <li><h3 class=\"info-title\">Comments</h3><p class=\"info-text\">${image.comments}</p></li>\n        <li><h3 class=\"info-title\">Downloads</h3><p class=\"info-text\">${image.downloads}</p></li>\n      </div>\n      </a>\n    </div>\n  `;\n}\n\nexport function showLoader() {\n    const loader = document.querySelector(\".loader\");\n    loader.style.display = \"block\";\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector(\".loader\");\n    loader.style.display = \"none\";\n}\n\n\n\nexport function clearGallery() {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n}","import { showError, fetchImages } from \"./js/pixabay-api.js\";\nimport { renderGallery, showLoader, hideLoader, clearGallery } from \"./js/render-functions.js\";\n\nconst searchForm = document.querySelector(\".form\");\nconst input = document.querySelector(\".input\");\n\nsearchForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    clearGallery()\n    const query = input.value.trim();\n    if (!query) {\n        showError();\n        return;\n    }\n\n    showLoader();\n    input.value = \"\";\n    fetchImages(query)\n        .then(images => {\n            renderGallery(images);\n        })\n        .catch(error => {\n            showError(message, error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n});"],"names":["showError","message","iziToast","fetchImages","query","BASE_URL","params","url","response","data","error","lightbox","renderGallery","images","gallery","image","createImageCard","SimpleLightbox","showLoader","loader","hideLoader","clearGallery","searchForm","input","event"],"mappings":"6vBAEO,SAASA,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,KAAM,GACN,gBAAiB,UACjB,SAAU,WACV,QAAS,2BACT,aAAc,OACtB,CAAK,CACL,CACO,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBP,EAAS,MAAM,CACX,KAAM,GACN,gBAAiB,UACjB,SAAU,WACV,QAAS,qFACT,aAAc,OAClC,CAAiB,MAED,QAAOO,EAAK,IAE5B,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CCxCA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACnEJ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,KAAK,CAAE,CAE9F,CAEA,SAASD,EAAgBD,EAAO,CAC5B,MAAO;AAAA;AAAA,8BAEmBA,EAAM,aAAa;AAAA,0CACPA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oEAEZA,EAAM,KAAK;AAAA,oEACXA,EAAM,KAAK;AAAA,uEACRA,EAAM,QAAQ;AAAA,wEACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKvF,CAEO,SAASG,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MAC3B,CAIO,SAASE,GAAe,CAC3B,MAAMP,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CC5CA,MAAMQ,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EAE7CD,EAAW,iBAAiB,SAAWE,GAAU,CAC7CA,EAAM,eAAc,EACpBH,EAAc,EACd,MAAMjB,EAAQmB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACnB,EAAO,CACRJ,IACA,MACH,CAEDkB,IACAK,EAAM,MAAQ,GACdpB,EAAYC,CAAK,EACZ,KAAKS,GAAU,CACZD,EAAcC,CAAM,CAChC,CAAS,EACA,MAAMH,GAAS,CACZV,EAAU,OAAc,CACpC,CAAS,EACA,QAAQ,IAAM,CACXoB,GACZ,CAAS,CACT,CAAC"}